use Socket from Net;

func main (params args) : null {
	sock = new Socket (args [1], args [2].toint ());

	while (!sock.isconnected) sleep (100);

	thread do {
		try {
			while (true) {
				printf (sock.readbyte ());
			}
		} catch {
			println ("Disconnected");
		}
	}
	try {

		while (true) {
			sock.writeline (input ());
		}
	} catch {
		println ("Disconnected");
	}
}
